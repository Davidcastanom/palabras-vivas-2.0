<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <!-- Metaetiqueta crucial para que se vea bien en mÃ³viles sin zoom accidental -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Palabras Vivas - Aprende Jugando</title>

    <!-- FAVICON - Icono de la aplicaciÃ³n -->
    <!-- Favicon estÃ¡ndar para navegadores y escritorio Windows -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <!-- Favicon PNG para navegadores modernos -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

    <!-- Iconos para Android (Tablet y mÃ³vil) - Acceso directo en pantalla principal -->
    <link rel="icon" type="image/png" sizes="192x192" href="favicon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="favicon-512x512.png">

    <!-- Meta tags para Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Palabra Viva">

    <!-- Manifest para PWA (Progressive Web App) - Permite agregar a pantalla principal en Android -->
    <link rel="manifest" href="site.webmanifest">

    <!-- Color del tema para navegadores mÃ³viles -->
    <meta name="theme-color" content="#FF6B6B">
    <!-- Enlace a nuestra hoja de estilos -->
    <link rel="stylesheet" href="estilos.css">

    <!-- Fuente opcional de Google Fonts para un look mÃ¡s infantil (redondeada) -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>

    <!-- CABECERA: Logo y Contador de Estrellas -->
    <header>
        <div class="logo-container">
            <!-- Logo de la aplicaciÃ³n -->
            <!-- Si no existe logo.png, se mostrarÃ¡ un emoji como fallback -->
            <img src="logo.png" alt="Palabra Viva Logo" class="logo-image" id="logo-image"
                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <span class="logo-emoji" style="display: none; font-size: 2rem;">ğŸ“–</span>
            <!-- TÃ­tulo de la aplicaciÃ³n -->
            <h1 class="logo-title">Palabras Vivas</h1>
        </div>
        <div class="header-right">
            <div class="star-counter">
                <span>â­</span>
                <span id="star-display">0</span>
            </div>
            <button class="btn-reset-stars" onclick="app.resetStars()" title="Reiniciar estrellas">
                ğŸ”„
            </button>
        </div>
    </header>

    <!-- ÃREA PRINCIPAL -->
    <main>

        <!-- PANTALLA 1: MENÃš PRINCIPAL (Mundos) -->
        <section id="screen-home" class="screen active">
            <h2 class="screen-title">Â¡Elige un mundo!</h2>
            <div class="grid-menu">
                <!-- BotÃ³n Animales -->
                <div class="category-card cat-animales" onclick="app.loadCategory('animales')">
                    <div class="category-icon">ğŸ¶</div>
                    <div class="category-title">Animales</div>
                </div>
                <!-- BotÃ³n Frutas -->
                <div class="category-card cat-frutas" onclick="app.loadCategory('frutas')">
                    <div class="category-icon">ğŸ</div>
                    <div class="category-title">Frutas</div>
                </div>
                <!-- BotÃ³n Objetos -->
                <div class="category-card cat-objetos" onclick="app.loadCategory('objetos')">
                    <div class="category-icon">ğŸš—</div>
                    <div class="category-title">Objetos</div>
                </div>
                <!-- BotÃ³n Familia -->
                <div class="category-card cat-familia" onclick="app.loadCategory('familia')">
                    <div class="category-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div>
                    <div class="category-title">Familia</div>
                </div>
                <!-- BotÃ³n Cuerpo -->
                <div class="category-card cat-cuerpo" onclick="app.loadCategory('cuerpo')">
                    <div class="category-icon">ğŸ‘•</div>
                    <div class="category-title">Cuerpo</div>
                </div>
            </div>
        </section>

        <!-- PANTALLA 2: MODO APRENDIZAJE (Flashcards) -->
        <section id="screen-learn" class="screen hidden">
            <div class="top-bar">
                <button class="btn btn-secondary" onclick="app.goHome()">ğŸ  Volver</button>
                <button class="btn btn-accent" onclick="app.startGameMenu()">ğŸ® Jugar</button>
            </div>

            <div class="flashcard-container">
                <!-- La tarjeta interactiva -->
                <div class="flashcard" id="flashcard-element">
                    <div class="card-image-area">
                        <img id="card-image" src="" alt="Imagen">
                        <!-- BotÃ³n para ocultar/mostrar imagen -->
                        <button class="btn-toggle-img" onclick="app.toggleImage()"
                            title="Ocultar/Mostrar imagen">ğŸ‘ï¸</button>
                    </div>
                    <div class="card-word" id="card-word">PALABRA</div>
                    <div class="card-syllables" id="card-syllables">Pa-la-bra</div>
                </div>

                <!-- BotÃ³n de micrÃ³fono para el niÃ±o -->
                <button class="btn btn-mic" id="btn-mic" onclick="app.startListening()">
                    ğŸ¤ Ahora dilo tÃº
                </button>

                <!-- Controles de navegaciÃ³n -->
                <div class="card-controls">
                    <button class="btn btn-nav" onclick="app.prevCard()">â¬…ï¸</button>
                    <button class="btn btn-nav" onclick="app.replayAudio()">ğŸ”Š</button>
                    <button class="btn btn-nav" onclick="app.nextCard()">â¡ï¸</button>
                </div>
            </div>
        </section>

        <!-- PANTALLA 3: MENÃš DE SELECCIÃ“N DE JUEGO -->
        <section id="screen-game-menu" class="screen hidden">
            <h2 class="screen-title">Elige un juego</h2>
            <div class="vertical-menu">
                <button class="btn btn-primary btn-large" onclick="app.startGame(1)">
                    ğŸ§© Encuentra la palabra
                </button>
                <button class="btn btn-secondary btn-large" onclick="app.startGame(2)">
                    ğŸ‘‚ Escucha y elige
                </button>
                <button class="btn btn-accent btn-large" onclick="app.startGame(3)">
                    ğŸ§  Memoria
                </button>
                <button class="btn btn-primary btn-large" onclick="app.startGame(4)">
                    ğŸ”¤ Ordena las sÃ­labas
                </button>
                <button class="btn btn-accent btn-large" onclick="app.startGame(5)">
                    âœï¸ Completa la Palabra
                </button>
                <button class="btn btn-secondary btn-large" onclick="app.startGame(6)">
                    ğŸ“‚ ClasificaciÃ³n
                </button>
                <button class="btn btn-secondary" onclick="app.showScreen('screen-learn')">
                    â¬…ï¸ Volver a tarjetas
                </button>
            </div>
        </section>

        <!-- PANTALLA 4: JUEGO ACTIVO -->
        <section id="screen-game-play" class="screen hidden">
            <button class="btn btn-secondary btn-back" onclick="app.showScreen('screen-game-menu')">â¬…ï¸ Salir</button>

            <div class="game-instruction" id="game-instruction">
                Escucha la instrucciÃ³n...
            </div>

            <!-- AquÃ­ se inyectan las opciones dinÃ¡micamente con JS -->
            <div class="game-options" id="game-options-container"></div>
        </section>

    </main>

    <!-- MODAL DE RECOMPENSA (Aparece al ganar estrellas) -->
    <div class="modal-overlay" id="reward-modal">
        <div class="modal-content">
            <div class="big-star">ğŸŒŸ</div>
            <h2>Â¡Ganaste una estrella!</h2>
            <p>Â¡Sigue asÃ­, campeÃ³n!</p>
            <button class="btn btn-primary" onclick="app.closeModal()">Â¡Seguir!</button>
        </div>
    </div>

    <!-- NOTIFICACIONES FLOTANTES (Toast) -->
    <div class="toast" id="toast">Mensaje</div>

    <!-- Enlace al script de lÃ³gica -->
    <script src="script.js"></script>
</body>

</html>